---
# vars file for nomad-common
nomad_version: 0.11.3
#* Nomad Basic Config Variables
log_level: "DEBUG"
bind_addr: "{{ ansible_facts.default_ipv4.address }}"
data_dir: "/opt/nomad"

#* Consul Config Variables
consul_address: "{{ ansible_facts.default_ipv4.address }}"
consul_port: 8500
server_service_name:  "nomad"
client_service_name: "nomad-client"
auto_advertise: "true"
server_auto_join: "true"
client_auto_join: "true"
token: ""

#* Nomad Server Config Variables
server_enable: "true"
bootstrap_expect: 1

#* Nomad Client Config Variables
client_enable: "true"
network_interface: "eth0"
retry_max: 3
retry_interval: "15s"
retry_join: "{{hostvars[groups['manager'][0]]['ansible_default_ipv4']['address']}}"

#* Nomad Acl Config Variables
acl_enable: "true"

#* Vault Config Variables
vault_enabled: true
vault_address: "{{ ansible_facts.default_ipv4.address }}"
vault_schema: "http"
vault_port: 8200
vault_create_from_role: "nomad-cluster"
vault_token: "s.ekmiOYX0bIsW4CXacLEOLo6T"